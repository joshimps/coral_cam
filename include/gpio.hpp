#include "rclcpp/rclcpp.hpp"
#include "std_msgs/msg/int64.hpp"
#include <lgpio.h>
#include <functional>
#include <memory>

using namespace std::chrono_literals;

#define LFLAGS 0

namespace coral_cam
{
    class Gpio : public rclcpp::Node
    {
    public:
        ////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Constructors and Destructors                                                                          //
        //////////////////////////////////////////////////////////////////////////////////////////////////////////

        Gpio(const rclcpp::NodeOptions &options);

    private:
        ////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Node,Timers, Publishers and Subscribers                                                               //
        //////////////////////////////////////////////////////////////////////////////////////////////////////////

        rclcpp::Publisher<std_msgs::msg::Int64>::SharedPtr gpio_handle_publisher_;

        ////////////////////////////////////////////////////////////////////////////////////////////////////////////
        // Variables                                                                                             //
        //////////////////////////////////////////////////////////////////////////////////////////////////////////

        int gpio_handle_;
        int gpio_number_;
    };
}